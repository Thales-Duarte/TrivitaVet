@import "tailwindcss";

/* Keyframes utilitárias (Tailwind v4) */
@keyframes accordion-down {
  from {
    height: 0;
    opacity: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }
  to {
    height: 0;
    opacity: 0;
  }
}

/* Animação do accordion (Radix) */
@media (prefers-reduced-motion: no-preference) {
  [data-radix-accordion-content][data-state="open"] {
    animation: accordion-down 260ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  [data-radix-accordion-content][data-state="closed"] {
    animation: accordion-up 220ms cubic-bezier(0.4, 0, 0.2, 1);
  }
}

:root {
  /* Tokens base (HSL) - compatível com shadcn/ui */
  /* Trivita Vet (paleta oficial) */
  /* background: Creme (Bege) #FDF8F1 */
  /* foreground: Verde Profundo (Texto) #0D2119 */
  --background: 32 75% 97%;
  --foreground: 163 43% 9%;

  --card: 0 0% 100%;
  --card-foreground: 163 43% 9%;

  /* Superfícies suaves (para chips, backgrounds internos) */
  --muted: 32 35% 94%;
  --muted-foreground: 160 12% 35%;

  /* Principal: Verde Escuro #1B4332 */
  --primary: 153 43% 19%;
  --primary-foreground: 32 75% 97%;

  --secondary: 32 35% 94%;
  --secondary-foreground: 163 43% 9%;

  /* Accent: Verde Claro #68914D */
  --accent: 98 31% 43%;
  --accent-foreground: 163 43% 9%;

  /* Destaque (ouro/laranja) #F4A261 */
  --brand: 28 86% 66%;

  --border: 32 18% 88%;
  --input: 32 18% 88%;
  /* Ring em verde, para cara de marca */
  --ring: 153 43% 19%;

  --radius: 14px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: 163 43% 7%;
    --foreground: 32 75% 97%;
    --card: 163 43% 9%;
    --card-foreground: 32 75% 97%;
    --muted: 163 26% 14%;
    --muted-foreground: 32 22% 78%;
    --primary: 98 31% 43%;
    --primary-foreground: 163 43% 7%;
    --secondary: 163 26% 14%;
    --secondary-foreground: 32 75% 97%;
    --accent: 28 86% 66%;
    --accent-foreground: 163 43% 7%;
    --brand: 28 86% 66%;
    --border: 163 26% 18%;
    --input: 163 26% 18%;
    --ring: 98 31% 43%;
  }
}

body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: var(--font-sans, ui-sans-serif, system-ui, -apple-system, "Segoe UI",
      Roboto, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji");
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.55;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* (removido) Gutter mobile era sobrescrito aqui e impedia ajustes no container */

h1,
h2,
h3 {
  font-family: var(--font-heading, var(--font-sans));
}

html {
  scroll-behavior: smooth;
}

/* Scrollbar (Firefox) */
* {
  scrollbar-width: thin;
  /* Thumb mais neutro/escuro e track creme: menos “verde vivo” */
  scrollbar-color: color-mix(in hsl, hsl(var(--foreground)) 55%, hsl(var(--primary)) 45%)
    color-mix(in hsl, hsl(var(--background)) 92%, hsl(var(--muted)) 8%);
}

/* Scrollbar (Chromium/WebKit) */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: color-mix(in hsl, hsl(var(--background)) 92%, hsl(var(--muted)) 8%);
}

::-webkit-scrollbar-thumb {
  background: color-mix(in hsl, hsl(var(--foreground)) 55%, hsl(var(--primary)) 45%);
  border-radius: 999px;
  border: 2px solid color-mix(in hsl, hsl(var(--background)) 92%, hsl(var(--muted)) 8%);
}

::-webkit-scrollbar-thumb:hover {
  /* Hover com toque de laranja da marca (sem virar “laranjão”) */
  background: color-mix(in hsl, hsl(var(--foreground)) 55%, hsl(var(--brand)) 45%);
}

/* Evita scroll horizontal acidental em mobile (ex.: efeitos, carrossel, sombras) */
html,
body {
  overflow-x: hidden;
}

/* Container/gutters mobile-first: evita qualquer conteúdo encostar na borda */
.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 0.375rem;
  padding-right: 0.375rem;
}

@media (min-width: 640px) {
  .container {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
}

@media (min-width: 768px) {
  .container {
    padding-left: 0.875rem;
    padding-right: 0.875rem;
  }
}

::selection {
  background: color-mix(in hsl, hsl(var(--ring)) 25%, transparent);
}

/* Links mais “premium” (sem ficar chamativo demais) */
a {
  text-underline-offset: 3px;
  cursor: pointer;
}

/* Cursor/affordance para elementos clicáveis */
button,
[role="button"],
[role="link"],
summary,
label,
input[type="button"],
input[type="submit"],
input[type="reset"],
select {
  cursor: pointer;
}

/* Link com underline animado (use class="link") */
.link {
  color: hsl(var(--foreground));
  text-decoration: none;
  background-image: linear-gradient(
    90deg,
    hsl(var(--accent)),
    hsl(var(--brand))
  );
  background-repeat: no-repeat;
  background-position: 0 100%;
  background-size: 0% 2px;
}

/* Botões/ações: feedback de “press” consistente (use class="pressable") */
.pressable {
  transform: translateZ(0);
}

@media (prefers-reduced-motion: no-preference) {
  .pressable {
    transition:
      transform 120ms ease,
      box-shadow 180ms ease,
      filter 180ms ease;
  }
  .pressable:active {
    transform: translateY(1px) scale(0.99);
  }
}

/* Ícones clicáveis (círculos do header/FAB): efeito pop sutil */
.icon-pop {
  transform: translateZ(0);
}

@media (prefers-reduced-motion: no-preference) {
  .icon-pop {
    transition:
      transform 160ms ease,
      box-shadow 180ms ease,
      background-color 180ms ease,
      border-color 180ms ease,
      color 180ms ease;
  }
  .icon-pop:hover {
    transform: translateY(-2px) scale(1.03);
  }
  .icon-pop:active {
    transform: translateY(0) scale(0.98);
  }
}

@media (prefers-reduced-motion: no-preference) {
  .link {
    transition:
      color 180ms ease,
      background-size 220ms ease;
  }
  .link:hover {
    color: hsl(var(--foreground));
    background-size: 100% 2px;
  }
}

.link:focus-visible {
  outline: 2px solid color-mix(in hsl, hsl(var(--ring)) 70%, transparent);
  outline-offset: 3px;
  border-radius: 10px;
}

/* Micro interação para cards clicáveis (use class="hover-lift") */
@media (prefers-reduced-motion: no-preference) {
  .hover-lift {
    transition:
      transform 180ms ease,
      box-shadow 180ms ease,
      border-color 180ms ease;
  }
  .hover-lift:hover {
    transform: translateY(-2px);
  }
  .hover-lift:active {
    transform: translateY(0);
  }
}

a:focus-visible {
  outline: 2px solid color-mix(in hsl, hsl(var(--ring)) 70%, transparent);
  outline-offset: 3px;
  border-radius: 10px;
}

/* Ritmo e respiro entre seções */
main {
  background:
    radial-gradient(900px 500px at 12% 8%, rgba(27, 67, 50, 0.10), transparent 60%),
    radial-gradient(1000px 520px at 88% 0%, rgba(244, 162, 97, 0.14), transparent 62%),
    radial-gradient(900px 520px at 75% 72%, rgba(104, 145, 77, 0.10), transparent 60%);
}

/* Pequenas utilidades “de produto” */
.section {
  scroll-margin-top: 96px;
}

/* Barra divisória entre seções (mais evidente, mas ainda elegante) */
.section-divider {
  height: 2px;
  width: 100%;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    transparent,
    color-mix(in hsl, hsl(var(--border)) 55%, hsl(var(--foreground)) 45%),
    transparent
  );
  position: relative;
}

.section-divider::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    transparent,
    hsl(var(--brand) / 0.18),
    transparent
  );
  filter: blur(0.6px);
  opacity: 0.9;
}
